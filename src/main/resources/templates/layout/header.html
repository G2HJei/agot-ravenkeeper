<div class="sticky-top">
    <nav class="navbar bg-body-tertiary p-0">
        <div class="container container-rs-small">
            <div class="d-flex justify-content-center align-items-center gap-2 w-100">
                <div class="me-auto">
                    <span id="localHostIndicator" class="fw-semibold visually-hidden">LOCAL</span>
                </div>
                <a class="navbar-brand highlight-primary d-flex justify-content-center align-items-center"
                   th:href="@{/}">
                    <img th:src="@{'/logo.png'}" alt="Logo" height="64">
                    <img th:src="@{'/logo-text-golden.png'}" alt="Logo" height="38" class="ms-2">
                </a>
                <i id="darkModeBtn" class="bi bi-moon-stars-fill highlight-brand ms-auto fs-5" data-bs-toggle="tooltip"
                   data-bs-title="Toggle dark mode" onclick="toggleDarkMode()">
                </i>
            </div>
        </div>
    </nav>
</div>
<script th:inline="javascript">

    function toggleDarkMode() {
        $("#darkModeBtn").toggleClass("bi-moon-stars-fill bi-sun-fill");
        const root = $("#rootHtml");
        const currentDarkMode = root.attr("data-bs-theme");
        setDarkMode(currentDarkMode !== "dark")
    }

    function setDarkMode(darkMode) {
        $("#rootHtml").attr("data-bs-theme", darkMode ? "dark" : "light");
        localStorage.setItem("darkMode", darkMode);
    }

    //handle initial state
    $(document).ready(function () {
        if (localStorage.getItem("darkMode") === "false") {
            $("#darkModeBtn").toggleClass("bi-moon-stars-fill bi-sun-fill");
            setDarkMode(false);
        }
        if (window.location.hostname === "localhost") {
            $("#localHostIndicator").removeClass("visually-hidden");
        }
    });
</script>